[Properties]

playerVampireSkill = "Object: Everdamned.esp::0x1D7A9E"

[ED_VampireSkill]
type = "Functional"
alias = "Variable06"
get = "(GetKeywordString('PlayerKeyword') != 0) * GetGlobalValueParam(playerVampireSkill)"

[ED_VampireSkill1p]
type = "Functional"
alias = "Variable05"
get = "(GetKeywordString('PlayerKeyword') != 0) * GetGlobalValueParam(playerVampireSkill) * 0.01"

[ED_BloodPool]
type = "Adaptive"
alias = "Variable08"

[ED_IcyWindsSelf]
type = "Adaptive"
alias = "Variable01"

[ED_FlamesProc]
type = "Adaptive"
alias = "Variable02"
default.formula = "3"
default.type = "Constant"
regen.rate = "100"
regen.delay = "2"
regen.fixed = true

[ED_PartingGiftBlock]
type = "Adaptive"
alias = "TwoHandedSkillAdvance"
default.formula = "2"
default.type = "Constant"
regen.rate = "1000"
regen.delay = "0.5"
regen.fixed = true

# 60 * 60 * 24 * 2 = 2 days in seconds / 100
[ED_HpDrainedTimer]
type = "Adaptive"
alias = "Variable07"
default.formula = "17280"
default.type = "Constant"
regen.rate = "0.1"
regen.delay = "0"
regen.fixed = true

[ED_VampireSkillExpBuffer]
type = "Adaptive"
alias = "Variable04"

[ED_PlayerHP1pct]
type = "Adaptive"
alias = "Variable03"
default.formula = "GetActorValue('Health', Base) * 0.01"
default.type = "Constant"

[ED_ActHealthPct]
type = "Functional"
alias = "OneHandedSkillAdvance"
get = "GetActorValue('Health', All) / GetActorValue('Health', Max)"

[ED_BloodPoolMax]
type = "Functional"
get = "GetActorValue('ED_BloodPool', Max)"

[ED_BloodPoolDamage]
type = "Functional"
get = "GetActorValue('ED_BloodPool', Damage)"

[ED_BloodPoolTemporary]
type = "Functional"
get = "GetActorValue('ED_BloodPool', Temporary)"

[ED_BloodPoolPermanent]
type = "Functional"
get = "GetActorValue('ED_BloodPool', Permanent)"

[Include]
"Everdamned.esp" = ["ED_VampireSkill", "ED_VampireSkill40p", "ED_IcyWindsSelf", "ED_FlamesProc", "ED_PartingGiftBlock", "ED_BloodPool", "ED_HpDrainedTimer", "ED_VampireSkillExpBuffer", "ED_PlayerHP1pct", "ED_ActHealthPct"]
